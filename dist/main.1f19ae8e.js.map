{"version":3,"sources":["main.js"],"names":["baseEndpoint","proxy","form","document","querySelector","recipesGrid","fetchRecipes","query","res","fetch","data","json","handleSubmit","event","preventDefault","el","currentTarget","console","log","value","fetchAndDisplay","submit","disabled","recipes","displayRecipes","results","html","map","recipe","title","ingredients","thumbnail","href","innerHTML","join","addEventListener"],"mappings":"AAAA,MAAMA,YAAY,GAAG,gCAArB;AACA,MAAMC,KAAK,GAAI,sCAAf;AACA,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAb;AACA,MAAMC,WAAW,GAAGF,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAApB;;AAEA,eAAeE,YAAf,CAA4BC,KAA5B,EAAmC;AACjC,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAER,KAAM,GAAED,YAAa,MAAKO,KAAM,EAApC,CAAvB;AACA,QAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACA,SAAOD,IAAP;AACD;;AAED,eAAeE,YAAf,CAA4BC,KAA5B,EAAmC;AACjCA,EAAAA,KAAK,CAACC,cAAN;AACA,QAAMC,EAAE,GAAGF,KAAK,CAACG,aAAjB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYhB,IAAI,CAACK,KAAL,CAAWY,KAAvB;AACAC,EAAAA,eAAe,CAAClB,IAAI,CAACK,KAAL,CAAWY,KAAZ,CAAf;AACD;;AAED,eAAeC,eAAf,CAA+Bb,KAA/B,EAAsC;AACpC;AACAL,EAAAA,IAAI,CAACmB,MAAL,CAAYC,QAAZ,GAAuB,IAAvB,CAFoC,CAGpC;;AACA,QAAMC,OAAO,GAAG,MAAMjB,YAAY,CAACC,KAAD,CAAlC;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYK,OAAZ;AACArB,EAAAA,IAAI,CAACmB,MAAL,CAAYC,QAAZ,GAAuB,KAAvB;AACAE,EAAAA,cAAc,CAACD,OAAO,CAACE,OAAT,CAAd;AACD;;AAED,SAASD,cAAT,CAAwBD,OAAxB,EAAiC;AAC/BN,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,QAAMQ,IAAI,GAAGH,OAAO,CAACI,GAAR,CACXC,MAAM,IAAK;YACHA,MAAM,CAACC,KAAM;WACdD,MAAM,CAACE,WAAY;QACtBF,MAAM,CAACG,SAAP,IACC,aAAYH,MAAM,CAACG,SAAU,UAASH,MAAM,CAACC,KAAM,KAAK;iBAChDD,MAAM,CAACI,IAAK;WANd,CAAb;AASA3B,EAAAA,WAAW,CAAC4B,SAAZ,GAAwBP,IAAI,CAACQ,IAAL,CAAU,EAAV,CAAxB;AACD;;AAEDhC,IAAI,CAACiC,gBAAL,CAAsB,QAAtB,EAAgCvB,YAAhC,GACA;;AACAQ,eAAe,CAAC,OAAD,CAAf","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["const baseEndpoint = \"http://www.recipepuppy.com/api\";\r\nconst proxy = `https://cors-anywhere.herokuapp.com/`;\r\nconst form = document.querySelector(\"form.search\");\r\nconst recipesGrid = document.querySelector(\".recipes\");\r\n\r\nasync function fetchRecipes(query) {\r\n  const res = await fetch(`${proxy}${baseEndpoint}?q=${query}`);\r\n  const data = await res.json();\r\n  return data;\r\n}\r\n\r\nasync function handleSubmit(event) {\r\n  event.preventDefault();\r\n  const el = event.currentTarget;\r\n  console.log(form.query.value);\r\n  fetchAndDisplay(form.query.value);\r\n}\r\n\r\nasync function fetchAndDisplay(query) {\r\n  // turn the form off\r\n  form.submit.disabled = true;\r\n  // submit the search\r\n  const recipes = await fetchRecipes(query);\r\n  console.log(recipes);\r\n  form.submit.disabled = false;\r\n  displayRecipes(recipes.results);\r\n}\r\n\r\nfunction displayRecipes(recipes) {\r\n  console.log(\"Creating HTML\");\r\n  const html = recipes.map(\r\n    recipe => `<div class=\"recipe\">\r\n      <h2>${recipe.title}</h2>\r\n      <p>${recipe.ingredients}</p>\r\n      ${recipe.thumbnail &&\r\n        `<img src=\"${recipe.thumbnail}\" alt=\"${recipe.title}\"/>`}\r\n      <a href=\"${recipe.href}\">View Recipe â†’</a>\r\n    </div>`\r\n  );\r\n  recipesGrid.innerHTML = html.join(\"\");\r\n}\r\n\r\nform.addEventListener(\"submit\", handleSubmit);\r\n// on page load run it with pizza\r\nfetchAndDisplay(\"pizza\");\r\n"]}